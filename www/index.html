<!doctype html>

<html lang="en">
<head>
   
	<title>Welcome to Skill Adda</title>
   <!-- meta http-equiv="refresh" content="0; url=http://skilladda.com" /-->
   <style>
#loading {
   width: 100%;
   height: 100%;
   top: 0px;
   left: 0px;
   position: fixed;
   display: block;
   opacity: 0.7;
   background-color: #C7C7C7;
   z-index: 99;
   text-align: center;
   padding-top:30%;
}

#loading-image {
  top: 100px;
  left: 240px;
  z-index: 100;
  width:70%;
  height:auto;
  margin-left:15%;
  margin-right:15%;
}
.error_msg{
	text-align:center;
	margin-left:10%;
	margin-right:10%;
	margin-top:10%;
	font-size:28px;
}	
@media(min-width:320px) and (max-width:480px){
	.error_msg{font-size:23px;}
}
</style>
</head>
<body>
		
	<h1>Welcome to SkillAdda</h1>
	<div id="deviceready" class="blink">
		<p class="event listening">Connecting to Device</p>
		<p class="event received">Device is Ready</p>
		<h4 id="deviceProperties"></h4>
		<h4 id="deviceProperties2"></h4>
	</div>
	
	<script type="text/javascript" src="cordova.js"></script>
	<script type="text/javascript" src="js/index.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
	
	<script type="text/javascript">
		app.initialize();
	//	$(document).ready(function(){	
	//		checkConnection();
	//	});
		document.addEventListener("deviceready", onDeviceReady, false);

		// device APIs are available
		//
		function onDeviceReady() {
			var element = document.getElementById('deviceProperties');
			element.innerHTML = 'Device Model: '    + device.model    + '<br />' +
								'Device Cordova: '  + device.cordova  + '<br />' +
								'Device Platform: ' + device.platform + '<br />' +
								'Device Version: '  + device.version  + '<br />';
			alert('hi');
			var  networkConnectionType =  navigator.network.connection.type;
            alert('Connection Type: ' +  networkConnectionType );
			if(networkConnectionType=='none'){
				alert('no connection');
				var element2 = document.getElementById('deviceProperties2');
				element2.innerHTML = 'offline';
				alert('done');
			}
			else{
				alert(networkConnectionType);
				$('head').append('meta http-equiv="refresh" content="5; url=http://skilladda.com" />');
				alert('finished');
			}
		
		/*	
			checkConnection();	
			alert('hi');
			alert(typeof jQuery);
			alert('done');
			var html='offline';
			if(typeof jQuery!='undefined'){
				html = 'online';
			}
			var element2 = document.getElementById('deviceProperties2');
			element2.innerHTML = html;		*/
		}	
		/*
		function checkConnection(){
			alert('hi');
			alert(typeof jQuery);
			alert('done');
			var html='offline';
			if(typeof jQuery!='undefined'){
				html = 'online';
			}
			var element2 = document.getElementById('deviceProperties2');
			element2.innerHTML = html;
		}	*/
			
			/*
			var w = window,
				d = document,
				e = d.documentElement,
				g = d.getElementsByTagName('body')[0],
				width = w.innerWidth || e.clientWidth || g.clientWidth,
				height = w.innerHeight|| e.clientHeight|| g.clientHeight;
				var networkConnectivity = navigator.onLine ? "online" : "offline";
			if(networkConnectivity=='online'){
				window.location.href = "http://www.skilladda.com";
			}
			else{
				if(width<992){
					document.getElementById('html').innerHTML = '<div id="loading"><img id="loading-image" src="skilladda_logo_black.png" alt="SkillAdda" /><div class="error_msg">Please connect to your internet connection and try again!</div></div>';
				}
			}		*/
	//	});
	</script>
</body>
</html>
